<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Karla:ital,wght@0,200..800;1,200..800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../assets/css/cadastro.css">
  <title>Cadastro</title>
</head>
<body>
  <main>
    <h1>Cadastro</h1>
    <form>
      <section class="nome">
        <section class="inputLargo">
          <label for="inputNome">Nome:</label>
          <input type="text" id="inputNome" required/>
          <!-- This field is required -->
        </section>
      </section>

      <section class="precoQuantidade">
        <section class="inputPequeno">
            <label for="inputPreco">Preço:</label>
            <input type="number" id="inputPreco" required/>
        </section>
        <section class="inputPequeno">
            <label for="inputQuantidade">Quantidade:</label>
            <input type="number" id="inputQuantidade" required/>
        </section>
        <!-- Please enter a valid email address -->
        <!-- This field is required -->
      </section>

      <section class="descricao">
        <label for="inputDescricao">Descrição:</label>
        <textarea id="inputDescricao" required></textarea>
        
        <!-- This field is required -->
      </section>
      <section class="botoes">
        <button type="button" class="buttonVoltar" onclick="paginaHome(event)">Voltar</button>
        <button type="submit" onclick="validarCadastro(event)" class="buttonCadastrar">Cadastrar</button>
      </section>

      <!-- Message Sent! -->
      <!-- Thanks for completing the form. We'll be in touch soon! -->
    </form>
  </main>

</body>
<script>
   let paginaHome = (event) => {
      event.preventDefault();
      window.location.href = "./index.html";
    };

    let validarCadastro = async (event) => {
      event.preventDefault(); 
      let nome = document.getElementById("inputNome").value;
      let preco = document.getElementById("inputPreco").value;
      let quantidade = document.getElementById("inputQuantidade").value;
      let descricao = document.getElementById("inputDescricao").value;

      let resposta = await fetch("http://localhost:3000/product/" + nome + "/" + preco + "/" + quantidade + "/" + descricao, {method: "POST"});
      window.location.href = "./index.html";
    };
</script>
</html>
</body>
</html>
